<!DOCTYPE html>
<html lang="en" prefix="og: http://ogp.me/ns#">
<head>
  <meta charset="UTF-8" />
  <title>0.5 is out! | Cubos</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,400i,600,600i%7CSource+Code+Pro:400,400i,600" />
  <link rel="stylesheet" href="https://cubosengine.org/static/m-dark.compiled.css" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/img-comparison-slider@8/dist/styles.css" />
  <script defer src="https://cdn.jsdelivr.net/npm/img-comparison-slider@8/dist/index.js"></script>
  <link rel="icon" href="https://cubosengine.org/images/favicon.png" type="image/png" />
  <link rel="canonical" href="https://cubosengine.org/05-is-out.html" />
  <link href="https://cubosengine.org/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Cubos" />
  <link href="https://cubosengine.org/feeds/release.atom.xml" type="application/atom+xml" rel="alternate" title="Cubos | Release" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="theme-color" content="#22272e" />
  <meta property="og:site_name" content="Cubos" />
  <meta property="og:title" content="0.5 is out!" />
  <meta name="twitter:title" content="0.5 is out!" />
  <meta property="og:url" content="https://cubosengine.org/05-is-out.html" />
  <meta property="og:description" content="Cubos 0.5 Release!" />
  <meta name="twitter:description" content="Cubos 0.5 Release!" />
  <meta name="twitter:card" content="summary" />
  <meta property="og:type" content="article" />
</head>
<body>
<header><nav id="navigation">
  <div class="m-container">
    <div class="m-row">
      <a href="./" id="m-navbar-brand" class="m-col-t-9 m-col-m-none m-left-m"><img src="https://cubosengine.org/images/favicon.png" alt="" />Cubos</a>
      <a id="m-navbar-show" href="#navigation" title="Show navigation" class="m-col-t-3 m-hide-m m-text-right"></a>
      <a id="m-navbar-hide" href="#" title="Hide navigation" class="m-col-t-3 m-hide-m m-text-right"></a>
      <div id="m-navbar-collapse" class="m-col-t-12 m-show-m m-col-m-none m-right-m">
        <div class="m-row">
          <ol class="m-col-t-12 m-col-m-none">
            <li><a href="https://docs.cubosengine.org">Docs</a></li>
          </ol>
        </div>
      </div>
    </div>
  </div>
</nav></header>
<main>
<div class="m-container">
  <div class="m-row">
    <article class="m-col-m-10 m-nopadb">
      <header>
        <h1><a href="https://cubosengine.org/05-is-out.html" rel="bookmark" title="Permalink to 0.5 is out!">
          <time class="m-date" datetime="2024-12-02T00:00:00+00:00">
            Dec <span class="m-date-day">02</span> 2024
          </time>
          0.5 is out!
        </a></h1>
        <p>Cubos 0.5 Release!</p>
      </header>
      <div class="m-clearfix-l"></div>
<!-- content -->
<section id="new-0-5-features">
<h2>New 0.5 Features</h2>
<p>This blog post covers the most important changes, but you can check out the full changelog in our <a href="https://github.com/GameDevTecnico/cubos/blob/main/CHANGELOG.md">repository</a>.</p>
<section id="on-the-editor">
<h3>On the Editor</h3>
<section id="hold-mode-for-debug-camera-jdbaracho">
<h4>Hold mode for Debug Camera. <span class="m-text m-dim">(&#64;jdbaracho)</span></h4>
<p>It wasn't very convenient to have only a toogle to control the Debug Camera, so we added a hold mode.</p>
</section>
<section id="editor-feature-1-author1">
<h4>Editor Feature 1 <span class="m-text m-dim">(&#64;Author1)</span></h4>
<p>TODO: explain feature and why it is useful</p>
</section>
</section>
<section id="on-the-engine">
<h3>On the Engine</h3>
<section id="point-light-shadows-tomas7770">
<h4>Point Light Shadows <span class="m-text m-dim">(&#64;tomas7770)</span></h4>
<p>Over the past couple releases, <strong>shadows</strong> have been gradually introduced to the engine's graphics
renderer, starting with spot light shadows, and then directional ones. Naturally, the next step was to
implement shadows for point lights, finally completing support for all types of lights.</p>
<p>Once again, point shadows are enabled by adding a component to the light entity, this time a
<a href="https://docs.cubosengine.org/structcubos_1_1engine_1_1PointShadowCaster.html">PointShadowCaster</a>.
They behave similarly to spot shadows, lacking all the configurable values of the more complex directional shadows.
You may want to read the previous blog posts for more detailed information on this.</p>
<p>In terms of implementation, point shadows are also very similar to spot shadows, using a shared atlas texture
that stores shadow maps for every point light in a quadtree structure. However, because point lights cast light in
all directions, there are actually 6 atlas textures, one for each direction of a cube.</p>
<p>The final result of shadows can be seen in the <a href="https://github.com/GameDevTecnico/cubos/tree/main/engine/samples/render/shadows">Shadows sample</a>.
Below is a screenshot of the sample with all light types casting shadows. Some tweaks have been done to better highlight the shadows.</p>
<img class="m-image" src="images/0.5/shadows_sample.png" />
</section>
<section id="audio-support-through-the-audio-plugin-dageus-diogomsmiranda">
<h4>Audio Support through the Audio Plugin  <span class="m-text m-dim">(&#64;Dageus, &#64;diogomsmiranda)</span></h4>
<p>This release is a significant milestone for the CUBOS engine, as it finally introduces Audio functionality!</p>
<p>The new <code>audioPlugin</code> leverages the previously implemented <code>Audio Context</code> to manage audio playback. It introduces two new components:</p>
<ul>
<li><strong>``AudioSource``</strong>: Attach this component to entities to play audio files in supported formats such as FLAC, MP3 and WAV.</li>
<li><strong>``AudioListener``</strong>: Attach this component to an entity to capture audio from the scene.</li>
</ul>
<p>With the plugin, you can now register listeners, and control audio sources with play, pause, and stop functionality. You can also customize audio playback by modifying the <code>AudioSource</code> properties for each entity. Adjust settings such as volume, pitch, and looping behavior to tailor the sound to your needs.
Due to restrictions in our audio backend, you can only have up to <strong>three active listeners</strong> at a time. For practical examples of how to use these new audio components (<code>AudioPlay</code>, <code>AudioPause</code>, <code>AudioStop</code>), check out our <a href="https://github.com/GameDevTecnico/cubos/blob/main/engine/samples/audio/main.cpp">Audio Sample</a>.</p>
<section id="sub-title-for-this-feature">
<h5>Sub-title for this feature</h5>
<p>TODO: more explaining</p>
</section>
</section>
<section id="method-to-save-settings-to-files-srgesus">
<h4>Method to save settings to files <span class="m-text m-dim">(&#64;SrGesus)</span></h4>
<p>Some way to interact with the files of the <code>Settings</code> resource was missing,
there was only a startupSystem that would load the file from a command line
argument and then no way for changes to persist which was a bit inconvenient.</p>
<p>So now there are two simple new methods - <code>save(path, indentation)</code> and
<code>load(path)</code> - to save and load the <code>Settings</code> to and from
<code>cubos::core::data::FileSystem</code> paths. E.g:</p>
<pre class="m-code"><span class="p">[](</span><span class="n">Settings</span><span class="o">&amp;</span><span class="w"> </span><span class="n">settings</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">settings</span><span class="p">.</span><span class="n">merge</span><span class="p">(</span><span class="n">settings</span><span class="o">::</span><span class="n">load</span><span class="p">(</span><span class="s">&quot;/file.json&quot;</span><span class="p">))</span>
<span class="w">        </span><span class="n">settings</span><span class="p">.</span><span class="n">save</span><span class="p">(</span><span class="s">&quot;/file_backup.json&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span></pre>
</section>
<section id="collision-detection-between-voxelcollisionshapes-joaomanita">
<h4>Collision detection between VoxelCollisionShapes <span class="m-text m-dim">(&#64;joaomanita)</span></h4>
<p>The engine was only able to able to detect collisons between boxes, now we can add a <cite>VoxelCollisionShape &lt;https://docs.cubosengine.org/classcubos_1_1engine_1_1VoxelCollisionShape.html&gt;</cite>
to decompose a voxel shape into multiple box collision shapes.</p>
</section>
<section id="anti-aliasing-using-fxaa-technique-kuukitenshi">
<h4>Anti-aliasing using FXAA technique <span class="m-text m-dim">(&#64;kuukitenshi)</span></h4>
<p>We introduced the FXAA (Fast Approximate Anti-Aliasing) technique to reduce jagged edges in the rendered images.
As you can see in the images below, the FXAA smooths out the visuals without the performance cost of traditional anti-aliasing methods.</p>
<img-comparison-slider>
<img slot="before" src="./images/0.5/cars_before.png" style="width: 100%" />
<img slot="after" src="./images/0.5/cars_after.png" style="width: 100%" />
</img-comparison-slider>
</section>
<section id="ui-text-element-using-msdf-for-text-rendering-mkuritsu">
<h4>UI text element using MSDF for text rendering <span class="m-text m-dim">(&#64;mkuritsu)</span></h4>
<p>Another great addition to the CUBOS engine was the support for text rendering in the UI, this will greatly improve the capabilities
for communicating with the player in future games developed with the engine.</p>
<p>This new features includes and <cite>uiTextPlugin</cite> that can be added wich contains the <cite>UIText</cite> component, this one contains all the data needed
to draw text on the screen. The plugin also adds two new asset types:</p>
<ul>
<li><strong>Font</strong>: represents a font to be that can be used to create font atlases (.ttf and .otf supported).</li>
<li><strong>FontAtlas</strong>: atlas created from a given font with different configurable properties.</li>
</ul>
<p>In order to draw the text on the screen this plugins uses Multi Signed Distante Fields (MSDFs) with the help from <a href="https://github.com/Chlumsky/msdfgen">msdfgen</a>
and <a href="https://github.com/Chlumsky/msdf-atlas-gen">msdf-atlas-gen</a>, and <a href="https://freetype.org/">FreeType</a> to load different font formats. Below is a screenshot
taken from the UI sample available in the engine showcasing the text rendering in action.</p>
<img class="m-image" src="images/0.5/ui-text.png" />
<p><strong>Note:</strong> Currently only the ASCII charset is supported, UTF-8 support will be worked on in a future release.</p>
</section>
<section id="allow-identifying-assets-in-code-from-their-path-galaxycrush">
<h4>Allow identifying assets in code from their path <span class="m-text m-dim">(&#64;GalaxyCrush)</span></h4>
<p>Assets could only be identified by their UUID, which could sometimes be confusing when working with multiple assets.
Now, they are able to be identified by their path, thus allowing for better compression when developing projects with CUBOS.
E.g., you can now do:</p>
<pre class="m-code"><span class="n">Asset</span><span class="o">&lt;</span><span class="n">Scene</span><span class="o">&gt;</span><span class="w"> </span><span class="n">SceneAsset</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">AnyAsset</span><span class="p">(</span><span class="s">&quot;/path/to/asset&quot;</span><span class="p">);</span></pre>
<p>instead of:</p>
<pre class="m-code"><span class="n">Asset</span><span class="o">&lt;</span><span class="n">Scene</span><span class="o">&gt;</span><span class="w"> </span><span class="n">SceneAsset</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">AnyAsset</span><span class="p">(</span><span class="s">&quot;uuid&quot;</span><span class="p">);</span></pre>
</section>
</section>
<section id="on-the-core">
<h3>On the Core</h3>
<section id="a-proper-cmake-configuration-riscadoa">
<h4>A Proper CMake Configuration <span class="m-text m-dim">(&#64;RiscadoA)</span></h4>
<p>Previously, our <a href="https://cmake.org/">CMake</a> build configuration, while functional, was really incomplete in terms of features and was also extremely messy.
With the engine becoming more and more fleshed out, we started wanting to be able to install the engine as a library system-wide, so that we could use it in other projects
Before, we always simply added the engine repository as a <code>git</code> submodule in our projects, but this meant having one copy locally of the whole codebase for each project, which was not ideal.
So, we decided to clean up the CMake configuration, and add installation and <code>find_package</code> support. In pratice, this means that you can now install the whole Cubos project, and to use it in another project, you just need to add the following lines to your <code>CMakeLists.txt</code>:</p>
<pre class="m-code"><span class="nb">find_package</span><span class="p">(</span><span class="s">cubos</span><span class="w"> </span><span class="s">REQUIRED</span><span class="p">)</span>
<span class="nb">target_link_libraries</span><span class="p">(</span><span class="s">your_game</span><span class="w"> </span><span class="s">PRIVATE</span><span class="w"> </span><span class="s">cubos::engine</span><span class="p">)</span></pre>
<p>One big advantage of this is that we can now also install Quadrados and Tesseratos, the tools we use for making games with Cubos, system-wide, as you would with any other application.
As of now, Cubos has only been packaged for NixOS, but we haven't contributed it to the Nixpkgs repository yet. We plan to do so in the future, and also to package it for other distributions.</p>
</section>
<section id="web-support-with-emscripten-riscadoa-luishfonseca">
<h4>Web Support with Emscripten <span class="m-text m-dim">(&#64;RiscadoA, &#64;luishfonseca)</span></h4>
<p>We've had a PR open since 0.2 for porting Cubos to the web with <a href="https://emscripten.org/">Emscripten</a>, but it was constantly postponed due to some issues still being present, and the fact that we were focusing on other features.
Now, we finally made the final push to get it working, and now Cubos can be compiled to WebAssembly and run in the browser!</p>
<p>We think this is an important feature, as for game jams, for example, it's very useful to be able to share your game with others without them having to download anything, and also to be able to play it on any device.
We also think it's a good way to showcase the engine to people who might be interested in using it, but don't want to download it.
We plan on embedding each sample on their respective documentation page, but that will be left for a future release.</p>
<p>One of the major challenges was guaranteeing compatibility with WebGL2. Fortunately, the whole rendering code is built on top of a rendering API abstraction layer.
We had to make some changes to this layer to guarantee we cover strictly the intersection between the features of OpenGL 3.3 and WebGL2, but we managed to do it without much hassle.
As of now, this means we're making some performance sacrifices, as we're not using advanced features even when they're available. We plan to address this in the future.</p>
</section>
</section>
</section>
<section id="next-steps">
<h2>Next Steps</h2>
<p>In the next release, which should be out by <strong>TODO WHEN</strong>, we're planning to work on the following features:</p>
<ul>
<li>Very cool feature 1.</li>
<li>Very cool feature 2.</li>
<li>...</li>
</ul>
<p>TODO: maybe some more stuff here if needed</p>
<p>You can check out the full list of stuff we want to get done in the <a href="https://github.com/GameDevTecnico/cubos/milestone/29">milestone</a> for the next release.</p>
</section>
<!-- /content -->
      <footer>
        <p>Posted by <a href="https://cubosengine.org/author/cubos-team.html">Cubos Team</a> on <time datetime="2024-12-02T00:00:00+00:00">Mon 02 December 2024</time> in <a href="https://cubosengine.org/category/release.html">Release</a>.</p>
      </footer>
    </article>
    <nav class="m-navpanel m-col-m-2">
      <h3>Categories</h3>
      <ol class="m-block-bar-m">
        <li><a href="https://cubosengine.org/category/features.html">Features</a></li>
        <li><a href="https://cubosengine.org/category/meta.html">Meta</a></li>
        <li><a href="https://cubosengine.org/category/release.html">Release</a></li>
      </ol>
      <h3>Tag cloud</h3>
      <ul class="m-tagcloud">
        <li class="m-tag-5"><a href="https://cubosengine.org/tag/core.html">Core</a></li>
        <li class="m-tag-5"><a href="https://cubosengine.org/tag/ecs.html">ECS</a></li>
      </ul>
    </nav>
  </div>
</div>
</main>
<footer><nav>
  <div class="m-container">
    <div class="m-row">
      <div class="m-col-s-3 m-col-t-6">
        <h3><a href="https://cubosengine.org/">Cubos</a></h3>
        <ul>
          <li><a href="https://docs.cubosengine.org/getting-started.html">Getting Started</a></li>
          <li><a href="https://docs.cubosengine.org/features.html">Feature Guide</a></li>
          <li><a href="https://docs.cubosengine.org/examples.html">Examples</a></li>
          <li><a href="https://docs.cubosengine.org/contribution.html">Contribution Guidelines</a></li>
          <li><a href="https://cubosengine.org/images/brand.pdf">Brand Guidelines</a></li>
        </ul>
      </div>
      <div class="m-col-s-3 m-col-t-6">
        <h3><a href="https://docs.cubosengine.org">Docs</a></h3>
        <ul>
          <li><a href="https://docs.cubosengine.org/pages.html">Pages</a></li>
          <li><a href="https://docs.cubosengine.org/modules.html">Modules</a></li>
          <li><a href="https://docs.cubosengine.org/annotated.html">Classes</a></li>
          <li><a href="https://docs.cubosengine.org/files.html">Files</a></li>
        </ul>
      </div>
      <div class="m-clearfix-t"></div>
      <div class="m-col-s-3 m-col-t-6">
        <h3><a href="mailto:team@cubosengine.org">Contact Us</a></h3>
        <ul>
          <li><a href="https://cubosengine.org/feeds/all.atom.xml">Blog Feed</a></li>
          <li><a href="https://github.com/GameDevTecnico/cubos">GitHub</a></li>
          <li><a href="https://discord.gg/WjTtcNTRqD">Discord</a></li>
          <li><a href="mailto:team@cubosengine.org">E-mail</a></li>
        </ul>
      </div>
      <div class="m-col-s-3 m-col-t-6">
        <h3><a href="https://cubosengine.org/">Blog</a></h3>
        <ul>
          <li><a href="https://cubosengine.org/category/features.html">Features</a></li>
          <li><a href="https://cubosengine.org/category/meta.html">Meta</a></li>
          <li><a href="https://cubosengine.org/category/release.html">Release</a></li>
        </ul>
      </div>
    </div>
    <div class="m-row">
      <div class="m-col-l-10 m-push-l-1">
        <p>Cubos. Powered by <a href="https://getpelican.com">Pelican</a> and <a href="https://mcss.mosra.cz">m.css</a>.</p>
      </div>
    </div>
  </div>
</nav></footer>
</body>
</html>